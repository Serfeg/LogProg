:-dynamic(citizen/10).
citizen('Маркушин','Егор','Михайлович','1997-10-02','М','Щорса 47','0411','175677','Женат','Янцевичуте Яна Алексеевна').
citizen('Янцевичуте','Яна','Алексеевна','1999-03-03','Ж','Краснодарская 28','0413','175687','Замужем','Маркушин Егор Михайлович').
citizen('Макаров','Алексей','Александрович','1997-11-09','М','Пушкина 1','0411','173456','Женат','').
citizen('Бенько','Надежда','Владиславовна','2000-02-18','Ж','Ленина 32','0413','175687','Не замужем', 'Нету').


%А
list(X,L):-findall(X,citizen(X,_,_,_,_,_,_,_,_,_),L).
writeCitizen([H|T]):-citizen(H,I,O,B,G,A,SP,NP,S,FIO),write(citizen(H,I,O,B,G,A,SP,NP,S,FIO)),nl,writeCitizen(T).
citizenBySurname(F):-list(F,Y),sort(Y,Z),writeCitizen(Z).


%М
get_year1(X,Year):-parse_time(X,Stamp),
    stamp_date_time(Stamp, Z, 'UTC'),
    Z = date(Year,_,_,_,_,_,_,_,_).

list1(X,L):-findall(X,citizen(_,_,_,X,_,_,_,_,_,_),L).
get_year_list([H|T],[H1|R]):-get_year1(H,Year), H1 is Year, get_year_list(T,R).
writeOldestCitizen([H|_]):-citizen(F,I,O,H,G,A,SP,NP,S,FIO),write(citizen(F,I,O,H,G,A,SP,NP,S,FIO)).
oldestCitizen(B):-list1(B,Y),sort(Y,Z),writeOldestCitizen(Z).
